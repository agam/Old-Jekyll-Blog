
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Agam's Mashed-Up Pome</title>
	<meta name="author" content="Agam">

	
	<meta name="description" content="Here&rsquo;s another daily programming problem: 1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
Input Description
----------------- On standard console input &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Agam's Mashed-Up Pome" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script async="true" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>

</head>


<body>
	<header id="header" class="inner"><h1><a href="/">Agam's Mashed-Up Pome</a></h1>
<!-- DebugAgam: Uncomment if necessary!
<nav id="main-nav"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:agam.github.io">
			</form>
		</div>
	</div>
</nav>
-->
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		<a class="google" href="https://plus.google.com/+AgamBrahma?rel=author" title="Google+">Google+</a>
		
		
		<a class="twitter" href="http://twitter.com/agambrahma" title="Twitter">Twitter</a>
		
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
    
	</div>
        <!-- DebugAgam: uncomment if necessary!
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:agam.github.io">
	</form>
        -->
</nav>

</header>
	
		
	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/01/07/programming-fun-banquet-planning/">
		
			Programming Fun: Banquet Planning</a>
	</h2>
	<div class="entry-content">
		<p>Here&rsquo;s <a href="http://www.reddit.com/r/dailyprogrammer/comments/1rnrs2/112813_challenge_137_intermediate_hard_banquet/">another</a> daily programming problem:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Input Description
</span><span class='line'>-----------------
</span><span class='line'>
</span><span class='line'>On standard console input, you will be given two space-delimited integers, N and M. N is the number of food items, while M is the number of food-relationships. Food-items are unique single-word lower-case names with optional underscores (the '_' character), while food-relationships are two food items that are space delimited. All food-items will be listed first on their own lines, then all food-relationships will be listed on their own lines afterwards. A food-relationship is where the first item must be served before the second item.
</span><span class='line'>Note that in the food-relationships list, some food-item names can use the wildcard-character '*'. You must support this by expanding the rule to fulfill any combination of strings that fit the wildcard. For example, using the items from Sample Input 2, the rule "turkey* *_pie" expands to the following four rules:
</span><span class='line'>turkey almond_pie
</span><span class='line'>turkey_stuffing almond_pie
</span><span class='line'>turkey pecan_pie
</span><span class='line'>turkey_stuffing pecan_pie
</span><span class='line'>A helpful way to think about the wildcard expansion is to use the phrase "any item A must be before any item B". An example would be the food-relationship "*pie coffee", which can be read as "any pie must be before coffee".
</span><span class='line'>Some orderings may be ambiguous: you might have two desserts before coffee, but the ordering of desserts may not be explicit. In such a case, group the items together.
</span><span class='line'>
</span><span class='line'>Output Description
</span><span class='line'>------------------
</span><span class='line'>
</span><span class='line'>Print the correct order of food-items with a preceding index, starting from 1. If there are ambiguous ordering for items, list them together on the same line as a comma-delimited array of food-items. Any items that do not have a relationship must be printed with a warning or error message.
</span></code></pre></td></tr></table></div></figure>


<p>The second sample input (to take an example) is as follows:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>8 5
</span><span class='line'>turkey
</span><span class='line'>pecan_pie
</span><span class='line'>salad
</span><span class='line'>crab_cakes
</span><span class='line'>almond_pie
</span><span class='line'>rice
</span><span class='line'>coffee
</span><span class='line'>turkey_stuffing
</span><span class='line'>turkey_stuffing turkey
</span><span class='line'>turkey* *_pie
</span><span class='line'>*pie coffee
</span><span class='line'>salad turkey*
</span><span class='line'>crab_cakes salad</span></code></pre></td></tr></table></div></figure>


<p>So this implies a graph that looks something like this:</p>

<p><img class="center" src="/images/programming-fun/graph-dependency-1.jpg" width="300"></p>

<p>Or, if you wish, with the arrows reversed, like this:</p>

<p><img class="center" src="/images/programming-fun/graph-dependency-2.jpg" width="300"></p>

<p>So it&rsquo;s possible to start from the first <code>root</code> node, labelling it as <code>0</code> and its neighbors as <code>1</code>. This process can be repeated, with its neighbors&#8217; neighbors being labelled as <code>2</code>, and so on, until there are no nodes left to label.</p>

<p><img class="center" src="/images/programming-fun/graph-dependency-3.jpg" width="300" title="" ></p>

<p>Once all nodes are labelled, the solution is just a pairing of these numbers and the corresponding nodes.</p>

<div><script src='https://gist.github.com/8293739.js'></script>
<noscript><pre><code>#include &lt;cmath&gt;
#include &lt;cstdint&gt;
#include &lt;cstdio&gt;
#include &lt;cstdlib&gt;
#include &lt;algorithm&gt;
#include &lt;iomanip&gt;
#include &lt;iostream&gt;
#include &lt;limits&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;queue&gt;

using namespace std;

struct GraphNode {
  vector&lt;GraphNode*&gt; neighbors;
  string label;
  int level = 0;

  GraphNode(const string&amp; l) : label(l) {}
};

void FindFoodItems(
    const string&amp; food_glob,
    const vector&lt;GraphNode*&gt;&amp; food_nodes,
    vector&lt;GraphNode*&gt;* results) {
  for (auto&amp; food_node : food_nodes) {
    // The only cases supported are:
    //   (1) Exact match
    //   (2) '*' at the beginning
    //   (3) '*' at the end
    if (food_glob.find_first_of('*') == string::npos) {
      if (food_glob == food_node-&gt;label) {
        results-&gt;push_back(food_node);
        continue;
      }
    }
    if (food_glob.front() == '*') {
      const string matcher = food_glob.substr(1);
      if (food_node-&gt;label.substr(
            food_node-&gt;label.length() - matcher.length()) ==
          matcher) {
        results-&gt;push_back(food_node);
        continue;
      }
    }
    if (food_glob.back() == '*') {
      const string matcher = food_glob.substr(0, food_glob.length() - 1);
      if (food_node-&gt;label.substr(0, matcher.length()) == matcher) {
        results-&gt;push_back(food_node);
        continue;
      }
    }
  }
}

int main() {
  int num_food_items, num_food_relationships;
  cin &gt;&gt; num_food_items &gt;&gt; num_food_relationships;
  cout &lt;&lt; &quot;Will read in &quot; &lt;&lt; num_food_relationships &lt;&lt; &quot; relationships for &quot; &lt;&lt; num_food_items &lt;&lt; &quot; food items.&quot; &lt;&lt; endl;
  vector&lt;pair&lt;string, string&gt;&gt; food_relationships;
  vector&lt;GraphNode*&gt; food_nodes;
  for (int i = 0; i &lt; num_food_items; ++i) {
    string food_item;
    cin &gt;&gt; food_item;
    food_nodes.push_back(new GraphNode(food_item));
  }
  for (int i = 0; i &lt; num_food_relationships; ++i) {
    string food_item_1, food_item_2;
    cin &gt;&gt; food_item_1 &gt;&gt; food_item_2;
    // We are going to use regex matching whereas the input is in 'glob' format,
    // so make a small adjustment.
    food_relationships.push_back(make_pair(food_item_1, food_item_2));
  }

  // Sanity check what we got.
  cout  &lt;&lt; &quot;Read in the following food items :- \n&quot;;
  for (const auto&amp; food_item : food_nodes) {
    cout &lt;&lt; food_item-&gt;label &lt;&lt; endl;
  }
  cout &lt;&lt; &quot;Read in the following food relationships :- \n&quot;;
  for (const auto&amp; food_relationship : food_relationships) {
    cout &lt;&lt; food_relationship.first &lt;&lt; &quot; &lt; &quot; &lt;&lt; food_relationship.second &lt;&lt; endl;
  }

  // General approach:
  // 1. Create a graph which each node corresponding to a food item
  // 2. For every relationship, expand the regex to determine the nodes involved, and
  // then create a dependency link.
  // 3. Go through the dependency links and number the nodes
  //    - Increment the number of each of a node's dependencies
  //    - Repeat for each of the dependent nodes
  //    - Add the nodes into a numbered list.
  //    - Note: this will require adding and removing nodes from the list
  // 4. Once no more dependencies have to be processed, print out numbered list
  // 5. Go through graph and print out 'isolated' nodes
  //
  // Edge cases: Multiple origins, multiple nodes of the same number, isolated nodes

  // Step 2
  vector&lt;GraphNode*&gt; root_nodes = food_nodes;
  vector&lt;GraphNode*&gt; isolated_nodes = food_nodes;
  for (const auto&amp; food_relationship : food_relationships) {
    vector&lt;GraphNode*&gt; dependents, dependees;
    // Each relationship can potentially be many-&gt;many
    // Note: the c++ regex implementation isn't available in my standard library
    // right now, so I'm going to support a limited range of globs:
    //   only those where the '*' is either right at the beginning or at the end
    FindFoodItems(food_relationship.first, food_nodes, &amp;dependents);
    FindFoodItems(food_relationship.second, food_nodes, &amp;dependees);

    // Now create dependency links
    for (auto&amp; nodeA : dependents) {
      for (auto&amp; nodeB : dependees) {
        nodeA-&gt;neighbors.push_back(nodeB);
      }
    }

    // Also as part of this process weed out non-root nodes for the next step, as well as isolated nodes.
    for (auto&amp; node : dependees) {
      root_nodes.erase(
          remove(root_nodes.begin(), root_nodes.end(), node),
          root_nodes.end());
      isolated_nodes.erase(
          remove(isolated_nodes.begin(), isolated_nodes.end(), node),
          isolated_nodes.end());
    }
    for (auto&amp; node : dependents) {
      isolated_nodes.erase(
          remove(isolated_nodes.begin(), isolated_nodes.end(), node),
          isolated_nodes.end());
    }
  }

  // Step 3
  // Process all the nodes in the current 'frontier' until there are non left.
  // The first frontier is the set of root nodes
  queue&lt;GraphNode*&gt; frontier;
  for (auto&amp; node : root_nodes) {
    frontier.push(node);
  }
  while (!frontier.empty()) {
    GraphNode* current_node = frontier.front();
    for (auto&amp; neighbor : current_node-&gt;neighbors) {
      neighbor-&gt;level = current_node-&gt;level + 1;
      frontier.push(neighbor);
    }
    frontier.pop();
  }

  // Step 4
  vector&lt;vector&lt;GraphNode*&gt;&gt; levels(food_nodes.size());
  for (const auto&amp; node : food_nodes) {
    if (find(isolated_nodes.begin(), isolated_nodes.end(), node) ==
        isolated_nodes.end()) {
      levels[node-&gt;level].push_back(node);
    }
  }

  for (int i = 0; i &lt; levels.size() &amp;&amp; !levels[i].empty(); ++i) {
    cout &lt;&lt; i + 1 &lt;&lt; &quot; : &quot;;
    for (const auto&amp; node : levels[i]) {
      cout &lt;&lt; node-&gt;label &lt;&lt; &quot;  &quot;;
    }
    cout &lt;&lt; endl;
  }
  cout &lt;&lt; endl;

  // Step 5
  // Finally, print out the nodes without dependees
  for (const auto&amp; node : isolated_nodes) {
    cout &lt;&lt; &quot;Warning: &quot; &lt;&lt; node-&gt;label &lt;&lt; &quot; does not have any ordering.&quot; &lt;&lt; endl;
  }

  for (auto&amp; node : food_nodes) {                                                                          
    delete node;                                                                                           
  }                                                                                                        
}
</code></pre></noscript></div>




		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-01-07T02:27:00+00:00" pubdate data-updated="true">Jan 7<sup>th</sup>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/alwaysbecoding/'>alwaysbecoding,</a>, <a class='category' href='/blog/categories/reddit/'>reddit</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/01/06/urbit/">
		
			Urbit</a>
	</h2>
	<div class="entry-content">
		<p>I will confess that I initially thought this was a big joke, some April Fool&rsquo;s Day kind of thing.</p>

<h2>WTF is Urbit ?</h2>

<p>Supposedly it&rsquo;s an <em>&ldquo;operating function&rdquo;</em>. You could try reading the <a href="http://www.urbit.org/faq.html">FAQ</a> but it&rsquo;s pretty sparse right now. Don&rsquo;t let that stop you from playing around with it though.</p>

<p>After watching the demo video (below), it seemed like something worth checking out.</p>

<iframe src="//player.vimeo.com/video/75312418" width="500" height="281" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>


<p>Even if it isn&rsquo;t really <em>useful</em>, there&rsquo;s something to be learnt from what is clearly a well-thought-out, complex piece of work.</p>

<h2>Getting started</h2>

<p>First, get some essential stuff.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>sudo apt-get install libgmp3-dev libsigsegv-dev openssl libssl-dev libncurses5-dev git make exuberant-ctags
</span></code></pre></td></tr></table></div></figure>


<p>Then get the source and build it.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>git clone https://github.com/urbit/urbit.git
</span></code></pre></td></tr></table></div></figure>


<p>Add to your <code>.bashrc</code> the equivalent of</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span><span class="nb">export </span><span class="nv">URBIT_HOME</span><span class="o">=</span>/home/agam/urbit/urb
</span></code></pre></td></tr></table></div></figure>


<p>and then</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span><span class="nb">cd </span>urbit
</span><span class='line'><span class="nv">$ </span>make
</span></code></pre></td></tr></table></div></figure>


<p>This will go on for a short while, and if all goes well, you should end up with a new <code>bin</code> subdirectory, with a single executable. Run it.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>bin/vere
</span><span class='line'>vere: urbit home is /home/agam/urbit/urb
</span><span class='line'>bin/vere: usage: <span class="o">[</span>-v<span class="o">]</span> <span class="o">[</span>-k stage<span class="o">]</span> computer
</span></code></pre></td></tr></table></div></figure>


<p>Excellently terse. Get used to it. It&rsquo;s also not exactly up-to-date. We&rsquo;re going to use a different parameter.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>bin/vere -c frogstar
</span></code></pre></td></tr></table></div></figure>


<p>Obviously, substitute some made-up-name instead of <code>frogstar</code> above. Now you should see something like</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>bin/vere -c frogstar
</span><span class='line'>vere: urbit home is /home/agam/urbit/urb
</span><span class='line'>loom: mapped 1024MB
</span><span class='line'>loading /home/agam/urbit/urb/urbit.pill
</span><span class='line'><span class="nb">time</span>: ~2014.1.6..07.34.20..58b0
</span><span class='line'>ames: on localhost, UDP 44342.
</span><span class='line'>http: live on 8080
</span><span class='line'>generating 2048-bit RSA pair...
</span><span class='line'>ames: czar zod.urbit.org: ip .198.199.112.32
</span><span class='line'>saving passcode in /home/agam/.urbit/~fiddyn-lavpun.txt
</span><span class='line'><span class="o">(</span><span class="k">for</span> real security, write it down and delete the file...<span class="o">)</span>
</span><span class='line'><span class="p">;</span> ~zod <span class="p">|</span>Tianming<span class="p">|</span> is your neighbor
</span><span class='line'><span class="p">;</span> ~zod <span class="p">|</span>Tianming<span class="p">|</span> is your neighbor
</span><span class='line'>waiting...
</span></code></pre></td></tr></table></div></figure>


<p>and after half a minute of waiting, it should download a whole bunch of <code>hoon</code> files &hellip;</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>updating...
</span><span class='line'>: /~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/main/1/bin/update/hoon
</span><span class='line'>: /~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/main/1/bin/update/hoon
</span><span class='line'>: /~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/main/1/bin/update/hoon
</span><span class='line'>: /~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/main/1/bin/update/hoon
</span><span class='line'>...
</span></code></pre></td></tr></table></div></figure>


<h2>Going off on an adventure!</h2>

<p>At this point you should find yourself staring at the <em><code>Arvo</code> prompt</em></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>~wicmet-balful-tipdet-tardul--nisred-divpen-panref-sicbet/try<span class="o">=</span>&gt;
</span></code></pre></td></tr></table></div></figure>


<p>(which, it turns out, is also a REPL)</p>

<p>That&rsquo;s all for now &hellip; more on Urbit later.</p>

<p>Meanwhile, check out their website at <a href="http://www.urbit.org/">www.urbit.org</a> or explore <a href="https://github.com/urbit/urbit">the code on github</a> or follow them on twitter <a href="https://twitter.com/urbit_">@urbit_</a>.</p>

<p>Happy <em>urbiting</em> !!</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-01-06T07:44:00+00:00" pubdate data-updated="true">Jan 6<sup>th</sup>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/urbit/'>urbit</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/01/05/resolutions/">
		
			Resolutions</a>
	</h2>
	<div class="entry-content">
		<p>It&rsquo;s that time of year again. I can&rsquo;t believe 2013 is already over.</p>

<p>I thought about what possible resolutions I could make, but either nothing came to mind, or too many. One thing that does bug me is that I feel I&rsquo;m not as good a programmer as I once was. And so I have a simple resolution: improve on &ldquo;always be coding&rdquo;.</p>

<p>There is a simple way to do this: make it routine and consistent to do lots of programming problems. I had started to do the <a href="http://www.reddit.com/r/dailyprogrammer/">&lsquo;daily programmer&rsquo;</a> ones on reddit, I have to make this more consistent (how about 3 every week ?)</p>

<p>The other obvious way is to get into <a href="www.topcoder.com">TopCoder</a>. Go through all the <a href="http://community.topcoder.com/tc?module=Static&amp;d1=tutorials&amp;d2=alg_index">tutorials</a>, examples, every SRM that comes along. Even if it can&rsquo;t be attempted live, do it eventually.</p>

<p>So that&rsquo;s all for now. I&rsquo;ll evaluate this next year!</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-01-05T20:42:00+00:00" pubdate data-updated="true">Jan 5<sup>th</sup>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/plan/'>plan</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/12/24/fp-takedown/">
		
			FP Takedown</a>
	</h2>
	<div class="entry-content">
		<p>Don&rsquo;t blame the messenger. I just saw this and it&rsquo;s hilarious. Gilad Bracha is one of my new heroes now :)</p>

<p>Watch <a href="http://www.infoq.com/presentations/functional-pros-cons">this video</a> and unless you&rsquo;re an overly sensitive haskell zealot, you&rsquo;ll find some humor here. There&rsquo;s a lot of hype-busting and sacred-cow-killing.</p>

<p>Of course, he&rsquo;s no stranger to controversial programming views (<a href="http://gbracha.blogspot.com/2011/01/maybe-monads-might-not-matter.html">&ldquo;Maybe Monads Might Not Matter&rdquo;</a>, <a href="http://gbracha.blogspot.com/2011/06/types-are-anti-modular.html">&ldquo;Types are anti modular&rdquo;</a>, <a href="http://gbracha.blogspot.com/2009/11/objects-are-not-hash-tables.html">&ldquo;Objects are not hash tables&rdquo;</a>, and <a href="http://gbracha.blogspot.com/2009/12/chased-by-ones-own-tail.html">&ldquo;Chased by One&rsquo;s Own Tail&rdquo;</a>), so you might enjoy reading his blog after watching the video!</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-12-24T06:22:00+00:00" pubdate data-updated="true">Dec 24<sup>th</sup>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/functional/'>functional</a>, <a class='category' href='/blog/categories/programming/'>programming</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/12/19/ranked-voting/">
		
			Ranked Voting</a>
	</h2>
	<div class="entry-content">
		<p>This one might actually make for a medium level interview question (assuming the problem can be successfully communicated)</p>

<p>Here is <a href="http://www.reddit.com/r/dailyprogrammer/comments/1r2mcz/112013_challenge_136_intermediate_ranked_voting/">the problem</a> (also found at the bottom of the gist)</p>

<div><script src='https://gist.github.com/8033346.js'></script>
<noscript><pre><code>#include &lt;cmath&gt;
#include &lt;cstdint&gt;
#include &lt;cstdio&gt;
#include &lt;cstdlib&gt;
#include &lt;iomanip&gt;
#include &lt;iostream&gt;
#include &lt;limits&gt;
#include &lt;string&gt;
#include &lt;vector&gt;

using namespace std;

void GetVotes(
    const vector&lt;vector&lt;int&gt;&gt;&amp; votes,
    int loser_index,
    vector&lt;int&gt;* candidate_votes) {
  // Use the round# to determine if votes should be transferred.
  for (const vector&lt;int&gt;&amp; vote : votes) {
    int first_choice = vote[0];
    int second_choice = vote[1];
    if (loser_index &gt;= 0) {
      if (loser_index == first_choice) {
        ++((*candidate_votes)[second_choice]);
      }
    } else {
      // first pass; just add the votes
      ++((*candidate_votes)[first_choice]);
    }
  }
  if (loser_index &gt;=0) { ((*candidate_votes)[loser_index]) = 0; }
}

bool CheckMajority(const vector&lt;int&gt;&amp; candidate_votes, int total_votes, int* winner, int* loser) {
  int max_votes = 0, min_votes = total_votes;
  for (int i = 0; i &lt; candidate_votes.size(); ++i) {
    int v = candidate_votes[i];
    if (max_votes &lt; v) {
      max_votes = v;
      *winner = i;
    }
    if (min_votes &gt; v) {
      min_votes = v;
      *loser = i;
    }
  }
  if (max_votes * 2 &gt; total_votes) {
    return true;
  } else {
    return false;
  }
}

void PrintStats(const vector&lt;int&gt;&amp; candidate_votes, int total_votes, const vector&lt;string&gt;&amp; candidate_names) {
  for (int i = 0; i &lt; candidate_votes.size(); ++i) {
    if (candidate_votes[i] == 0) continue;
    cout &lt;&lt; fixed &lt;&lt; setprecision(2) &lt;&lt; (100.0 * candidate_votes[i])/total_votes &lt;&lt; &quot;% &quot; &lt;&lt; candidate_names[i];
    if (i &lt; candidate_votes.size() - 1) {
      cout &lt;&lt; &quot;, &quot;;
    }
  }
  cout &lt;&lt; endl;
}

int main() {
  int num_votes, num_candidates;
  cin &gt;&gt; num_votes &gt;&gt; num_candidates;
  cout &lt;&lt; &quot;Will read in &quot; &lt;&lt; num_votes &lt;&lt; &quot; votes for &quot; &lt;&lt; num_candidates &lt;&lt; &quot; candidates.&quot; &lt;&lt; endl;
  vector&lt;string&gt; candidate_names;
  vector&lt;vector&lt;int&gt;&gt; votes(num_votes, vector&lt;int&gt;(num_candidates));
  for (int i = 0; i &lt; num_candidates; ++i) {
    string name;
    cin &gt;&gt; name;
    candidate_names.push_back(name);
  }
  for (int i = 0; i &lt; num_votes; ++i) {
    for (int j = 0; j &lt; num_candidates; ++j) {
      cin &gt;&gt; votes[i][j];
    }
  }

  // Sanity check what we got.
  cout  &lt;&lt; &quot;Read in the following candidates :- \n&quot;;
  for (const string&amp; name : candidate_names) {
    cout &lt;&lt; name &lt;&lt; endl;
  }
  cout &lt;&lt; &quot;Read in the following votes :- \n&quot;;
  for (int i = 0; i &lt; num_votes; ++i) {
    for (int j = 0; j &lt; num_candidates; ++j) {
      cout &lt;&lt; votes[i][j] &lt;&lt; &quot; &quot;;
    }
    cout &lt;&lt; endl;
  }

  vector&lt;int&gt; candidate_votes(num_candidates);
  int round = 0, winner_index = -1, loser_index = -1;
  do {
    ++round;
    GetVotes(votes, loser_index, &amp;candidate_votes);
    cout &lt;&lt; &quot;Round &quot; &lt;&lt; round &lt;&lt; &quot;: &quot;;
    PrintStats(candidate_votes, num_votes, candidate_names);
  } while (!CheckMajority(candidate_votes, num_votes, &amp;winner_index, &amp;loser_index) &amp;&amp; round &lt; 10);
  cout &lt;&lt; candidate_names[winner_index] &lt;&lt; &quot; is the winner.\n&quot;;
}

/*
Input Description
-----------------
On standard console input, you will be given two space-delimited integers, N and M. N is the number of votes, while M is the number of candidates. After this line, you will be given the candidates line, which is a space-delimited set of M-number of candidate names. These names are one-word lower-case letters only. This is followed by N-lines of ballots, where each ballot is a list of M-integers, from 0 to M-1, representing the order of preference.
Note that the order of preference for ballots goes from left-to-right. The integers are the index into the candidate list. For the example below, you can map 0: Knuth, 1: Turing, 2: Church. This means that if the ballot row is &quot;1 0 2&quot;, that means the voter prefers Turing over Knuth over Church.

Output Description
------------------
Given the candidates and ballots, compute the first-round of successful candidates (e.g. rank them based on all ballot's first choice). If the percentage of votes for any one candidate is more than 50%, print the candidate name as the winner. Else, take all the votes of the least-successful candidate, and use their ballot's 2nd choice, summing again the total votes. If needed (e.g. there is no candidate that has more than 50% of the votes), repeat this process for the 3rd, 4th, etc. choice, and print the winner of the election.
For each round of computation, print the percentage of votes for each candidate, and rank them based on that percentage, using the output format.
*/
</code></pre></noscript></div>




		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-12-19T02:23:00+00:00" pubdate data-updated="true">Dec 19<sup>th</sup>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/alwaysbecoding/'>alwaysbecoding,</a>, <a class='category' href='/blog/categories/reddit/'>reddit</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/12/16/small-change-for-vim-and-git/">
		
			Small Change for Vim and Git</a>
	</h2>
	<div class="entry-content">
		<h2>Vim</h2>

<p>I hate seeing <code>.swp</code> and <code>~</code> files when I&rsquo;m editing. If I really need to go back to an earlier version of something there are other ways.</p>

<p>So I added this to my .vimrc:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>set nobackup
</span><span class='line'>set nowritebackup
</span><span class='line'>set noswapfile</span></code></pre></td></tr></table></div></figure>


<h2>Git</h2>

<p>If there&rsquo;s one config change to make for <code>git</code>, it should be this one:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ git config --global --add color.ui true</span></code></pre></td></tr></table></div></figure>




		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-12-16T06:04:00+00:00" pubdate data-updated="true">Dec 16<sup>th</sup>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/git/'>git</a>, <a class='category' href='/blog/categories/vim/'>vim,</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/12/16/setting-up-screen/">
		
			Setting Up Screen</a>
	</h2>
	<div class="entry-content">
		<p>This is pretty much the first thing I do. I&rsquo;ve learned the hard way that I really really need persistent terminal state.</p>

<p>One of the changes I always make is to switch the default key combination away from <code>C-a</code>. Initially I did this during my &ldquo;year of trying Emacs&rdquo; (since it&rsquo;s the default &ldquo;move to beginning of line&rdquo; shortcut). I chose <code>C-z</code> (via <code>escape ^Zz</code>) but you might want to do this anyway if for example you feel <code>C-b</code> would be easier to type.</p>

<p>The other must-have is labels for the tabs. I want to know what I&rsquo;m switching between (a suitable modification to <code>hardstatus</code>).</p>

<p>The status line looks something like this.</p>

<p><img src="https://pbs.twimg.com/media/BblUW36CQAAG_Ol.png:large" alt="screen status with 3 tabs open" /></p>

<p>It&rsquo;s pretty minimal; you can add an arbitrary amount of customization to your status line, but this is all that I need.</p>

<p>Finally, there are a couple of &ldquo;features&rdquo; that <em>have</em> to be disabled: the screen flash on tab completion (<code>vbell off</code>), and the annoying startup message (<code>startup_message off</code>).</p>

<p>I&rsquo;m sure you know all about switching tabs, detaching and resuming sessions and all that. The only (in hindsight obvious) rule of thumb I&rsquo;ve learnt is to <em>always</em> launch a session with a name. Because you might just want to start two sessions. And then when it comes time to resume them, you won&rsquo;t know which is which. So make <code>screen -S &lt;sessionname&gt;</code> your friend.</p>

<p>Anyway I have a github repo for my &ldquo;dotfiles&rdquo; and you can see my basic screenrc <a href="https://github.com/agam/dotfiles/blob/master/.screenrc">here</a></p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-12-16T05:30:00+00:00" pubdate data-updated="true">Dec 16<sup>th</sup>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/screen/'>screen</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/12/16/starting-from-scratch-on-a-vm/">
		
			Starting From Scratch on a VM</a>
	</h2>
	<div class="entry-content">
		<p>I&rsquo;ve started from scratch many times on new linux installations. It gets old after a while though, so I prefer to do it as infrequently as possible.</p>

<p>Getting started with a bare-bones VM is one of the occasions for this, so I&rsquo;ll take the time to record what I do so that I don&rsquo;t have to revisit this stuff the <em>next time</em>.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-12-16T03:41:00+00:00" pubdate data-updated="true">Dec 16<sup>th</sup>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/vm/'>vm</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/12/14/adding-social-elements-to-octopress/">
		
			Adding Social Elements to Octopress</a>
	</h2>
	<div class="entry-content">
		<p>This is almost too easy. Octopress already comes with basic integration options built-in.</p>

<p>See <a href="http://jekyllrb.com/docs/configuration/">here</a> for more details than I care about, but the short version is that you just have to edit <code>_config.yml</code> and fill in fields for your Google+ username, a true/false value indicating whether users can share your posts on Google+/Twitter, a Disqus shortname for comments, a Google Analytics tracking code &hellip; you get the idea.</p>

<p>(though there seems to be some <a href="http://blog.jmac.org/blog/2013/03/30/putting-twitter-back-into-octopress/">extra work</a> required to get Twitter to show up in the sidebar.</p>

<p>While we&rsquo;re at it, might as well change the theme too. There&rsquo;s a huge collection of options at <a href="http://opthemes.com/">OPThemes</a>. So, pick one and replace the default dark grey one!</p>

<p>The usual flow is something like <code>git submodule add &lt;the theme's git repo&gt;</code> followed by <code>rake install["&lt;the theme name&gt;"]</code></p>

<p>I picked <a href="http://alexgaribay.com/"><code>octoflat</code></a> which doesn&rsquo;t have a sidebar, but is otherwise pleasing to look at.</p>

<p>Happy customizing!</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-12-14T18:22:00+00:00" pubdate data-updated="true">Dec 14<sup>th</sup>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/octopress/'>octopress,</a>, <a class='category' href='/blog/categories/social/'>social</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/12/14/augmenting-my-chromebook-with-a-vm/">
		
			Augmenting My Chromebook With a VM</a>
	</h2>
	<div class="entry-content">
		<p>I had tried this out about a year ago, creating a small VM instance on Google Compute Engine. But a maintenance window occurred, my VM died, and that was that. I cleaned up and walked away.</p>

<h2>Comparison</h2>

<p>Sometime back, I heard about <a href="https://www.digitalocean.com/">Digital Ocean</a> from a friend. I had just switched to a chromebook and was missing the shell of my previous Linux laptop. So I once again looked into the current cloud offerings.</p>

<p>There is an excellent comparison at <a href="http://cloudpricegrid.com/">cloud price grid</a> so I won&rsquo;t waste time repeating that.</p>

<p>DigitalOcean seems the cheapest for a couple of options</p>

<ul>
<li><em>1core/512Mb/20G &mdash;> $5/mo</em></li>
<li><em>1core/1G/30G  &mdash;> $10/mo</em></li>
</ul>


<p>(See <a href="https://www.digitalocean.com/pricing/">detailed pricing</a>)</p>

<p>However, this is without any firewall or networking capability, and the datacenter seems to be near New York, so that&rsquo;s something to keep in mind.</p>

<p>Meanwhile at Google Compute Engine, the right comparison would be with a combination of</p>

<ul>
<li><em>Persistent disk &mdash;> 20G for $0.8/mo</em></li>
<li><em>f1-micro [1core/600Mb] &mdash;> $0.019/hr</em>
[which by the way at max utilization turns out to be $13.78/mo]</li>
</ul>


<p>(See <a href="https://cloud.google.com/products/compute-engine/#pricing">detailed pricing</a>)</p>

<p>A similar comparison for Amazon (I could be off in apples-to-apples here (what I think are apples may in fact be oranges))</p>

<p><em>t1.micro [1core/630Mb] &mdash;> $0.025/hr</em></p>

<p>So the cheapest Amazon has to offer seems more expensive than the cheapest Google has to offer (both of these instances will be pretty useless for hosting something substantial, but we&rsquo;re assuming the idea here is to have a small &ldquo;developer space&rdquo;).</p>

<p>But keep in mind Amazon also has a <a href="http://aws.amazon.com/free/">free tier</a> so if you just want to try it out for a year, the micro instance is actually FREE (!)</p>

<h2>Getting (re-)started with Google Compute Engine</h2>

<p>I elected to stay with Google. The new <a href="https://cloud.google.com/console#/project">cloud console</a> is much better than it was before, with a nice grouping by project and sub-links to Appengine, CloudSql, CloudStorage, ComputeEngine, etc.</p>

<p>Within the Cloud Engine dashboard, it is possible (and in fact, easy) to create a new VM, set up its associated disk and static IPs, OS, etc from the UI.</p>

<h2>SSHing</h2>

<p>One thing to point out is that the first time I set it up I used the <code>gcutil</code> tool to ssh into the instance; this creates local ssh keys and uploads the public key to the instance (it can be viewed in the <code>Metadata</code> part of the console). So I had to do this from a non-chromebook &ldquo;real&rdquo; computer (though there may be a workaround I&rsquo;m unaware of).</p>

<p>For subsequent SSHs, the recommended way is to use a long SSH command</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>ssh -o <span class="nv">UserKnownHostsFile</span><span class="o">=</span>/dev/null -o <span class="nv">CheckHostIP</span><span class="o">=</span>no -o  <span class="nv">StrictHostKeyChecking</span><span class="o">=</span>no <span class="se">\</span>
</span><span class='line'> -i &lt;key-file&gt; -o <span class="nv">LogLevel</span><span class="o">=</span>QUIET -A  -p <span class="m">22</span> &lt;username&gt;@&lt;ipaddress&gt;
</span></code></pre></td></tr></table></div></figure>


<p>and this worked when I tried it from the computer I signed up on.</p>

<p>Before trying to SSH from a chromebook, you have to copy ssh keys locally (how? I Dropbox&rsquo;d them and then deleted them from Dropbox, which is admittedly less secure &hellip; maybe I should have written it down and recreated manually?!).</p>

<p>Anyway, so once you have copied the keys, you can use the <a href="https://chrome.google.com/webstore/detail/secure-shell/pnhechapfaindjhompbnflcldabbghjo?hl=en">Secure Shell</a> app.</p>

<p>You have to click on <code>import...</code> to select the public/private key pair. At this point, when I used the long SSH command mentioned above, it didn&rsquo;t work. Eventually it only worked when I tried with a blank command (so the only arguments were username, host IP and the key file).</p>

<h2>Chromebook + VM</h2>

<p>Having tried this out for a while, I can&rsquo;t imagine living without it. Obviously it depends on internet access, but that&rsquo;s a common caveat these days.</p>

<p>But I strongly encourage it, since it&rsquo;s a perfect complement to the otherwise &ldquo;browser-only&rdquo; world.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-12-14T17:14:00+00:00" pubdate data-updated="true">Dec 14<sup>th</sup>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/chromebook/'>chromebook</a>, <a class='category' href='/blog/categories/vm/'>vm,</a>


</div>
	
</div>
</article>

<nav id="pagenavi">
    
        
            <a href="/posts/12" class="prev">Prev</a>
        
    
    
        <a href="/posts/14" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav>
</div>
	<footer id="footer" class="inner">Copyright &copy; 2015

    Agam

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'agamamp';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//go.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-16612682-4']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>
