
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Agam's Mashed-Up Pome</title>
	<meta name="author" content="Agam">

	
	<meta name="description" content="May the brute force be with you. Here is another one (sorry for the over-engineered code). Statutory Warning: Spoilers ahead 1
2
3
4
5
6
7
8
9
10
11 &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Agam's Mashed-Up Pome" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script async="true" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>

</head>


<body>
	<header id="header" class="inner"><h1><a href="/">Agam's Mashed-Up Pome</a></h1>
<!-- DebugAgam: Uncomment if necessary!
<nav id="main-nav"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:agam.github.io">
			</form>
		</div>
	</div>
</nav>
-->
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		<a class="google" href="https://plus.google.com/+AgamBrahma?rel=author" title="Google+">Google+</a>
		
		
		<a class="twitter" href="http://twitter.com/agambrahma" title="Twitter">Twitter</a>
		
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
    
	</div>
        <!-- DebugAgam: uncomment if necessary!
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:agam.github.io">
	</form>
        -->
</nav>

</header>
	
		
	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/05/03/euler-46-goldbacks-other-conjecture/">
		
			Euler 46: Goldbach&#8217;s Other Conjecture</a>
	</h2>
	<div class="entry-content">
		<p>May the brute force be with you. Here is another one (sorry for the over-engineered code).</p>

<p><strong>Statutory Warning</strong>: <em>Spoilers ahead</em></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
</pre></td><td class='code'><pre><code class='c++'><span class='line'><span class="k">class</span> <span class="nc">PrimeIterator</span> <span class="p">{</span>
</span><span class='line'><span class="k">public</span><span class="o">:</span>
</span><span class='line'>  <span class="n">PrimeIterator</span><span class="p">()</span> <span class="o">:</span> <span class="n">prime_index_</span><span class="p">(</span><span class="n">primes_</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{}</span>
</span><span class='line'>
</span><span class='line'>  <span class="kt">int</span> <span class="n">getNextPrime</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="n">assert</span><span class="p">(</span><span class="n">prime_index_</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">);</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">primes_</span><span class="p">[</span><span class="o">--</span><span class="n">prime_index_</span><span class="p">];</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="kt">bool</span> <span class="n">hasMorePrimes</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">prime_index_</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="kt">void</span> <span class="n">fillPrimes</span><span class="p">(</span><span class="kt">int</span> <span class="n">max</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">while</span> <span class="p">(</span><span class="n">primes_</span><span class="p">.</span><span class="n">back</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">max</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="n">addPrime</span><span class="p">();</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="c1">// Reset to the last element</span>
</span><span class='line'>    <span class="n">prime_index_</span> <span class="o">=</span> <span class="n">primes_</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">private</span><span class="o">:</span>
</span><span class='line'>  <span class="k">static</span> <span class="kt">void</span> <span class="n">addPrime</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="n">assert</span><span class="p">(</span><span class="n">primes_</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">);</span>
</span><span class='line'>    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">primes_</span><span class="p">.</span><span class="n">back</span><span class="p">();</span>
</span><span class='line'>    <span class="k">while</span> <span class="p">(</span><span class="nb">true</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="o">++</span><span class="n">n</span><span class="p">;</span>
</span><span class='line'>      <span class="kt">bool</span> <span class="n">is_prime</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span><span class='line'>      <span class="k">for</span> <span class="p">(</span><span class="k">const</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="nl">p</span> <span class="p">:</span> <span class="n">primes_</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">%</span> <span class="n">p</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>          <span class="n">is_prime</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span><span class='line'>          <span class="k">break</span><span class="p">;</span>  <span class="c1">// Try next number</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>      <span class="k">if</span> <span class="p">(</span><span class="n">is_prime</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="n">primes_</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
</span><span class='line'>        <span class="k">return</span><span class="p">;</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">static</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">primes_</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="kt">int</span> <span class="n">prime_index_</span><span class="p">;</span>
</span><span class='line'><span class="p">};</span>
</span><span class='line'>
</span><span class='line'><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">PrimeIterator</span><span class="o">::</span><span class="n">primes_</span> <span class="o">=</span> <span class="p">{</span><span class="mi">2</span><span class="p">};</span>
</span><span class='line'>
</span><span class='line'><span class="kt">bool</span> <span class="nf">goldbachDecompositionExists</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="n">assert</span><span class="p">(</span><span class="n">n</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">);</span>
</span><span class='line'>  <span class="c1">// n = p + 2*m^2</span>
</span><span class='line'>  <span class="c1">// Since 2*m^2 is always even, and n is odd, p must be odd too (so p has to be 3 or greater)</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// Use a generator to get more primes on demand.</span>
</span><span class='line'>  <span class="n">PrimeIterator</span> <span class="n">pit</span><span class="p">;</span>
</span><span class='line'>  <span class="n">pit</span><span class="p">.</span><span class="n">fillPrimes</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
</span><span class='line'>  <span class="k">while</span> <span class="p">(</span><span class="n">pit</span><span class="p">.</span><span class="n">hasMorePrimes</span><span class="p">())</span> <span class="p">{</span>
</span><span class='line'>    <span class="kt">int</span> <span class="n">p</span> <span class="o">=</span> <span class="n">pit</span><span class="p">.</span><span class="n">getNextPrime</span><span class="p">();</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="n">p</span> <span class="o">==</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="c1">// If n is a prime, then n = p + 2*(0*0)</span>
</span><span class='line'>      <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="kt">double</span> <span class="n">sq</span> <span class="o">=</span> <span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="n">p</span><span class="p">)</span><span class="o">/</span><span class="mf">2.0</span><span class="p">;</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">sq</span><span class="p">)</span> <span class="o">==</span> <span class="n">floor</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">sq</span><span class="p">)))</span> <span class="p">{</span>
</span><span class='line'>      <span class="c1">// n = p + 2*sqrt(sq)</span>
</span><span class='line'>      <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Euler #46 ... </span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// Loop over odd composite numbers ...</span>
</span><span class='line'>  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">9</span><span class="p">;</span> <span class="p">;</span> <span class="n">i</span><span class="o">+=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">goldbachDecompositionExists</span><span class="p">(</span><span class="n">i</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Failed at &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span><span class='line'>      <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Runs as follows:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span><span class="nb">time</span> ./Test
</span><span class='line'>Euler <span class="c">#46 ...</span>
</span><span class='line'>Failed at &lt;redacted&gt;
</span><span class='line'>
</span><span class='line'>real    0m0.007s
</span><span class='line'>user    0m0.004s
</span><span class='line'>sys     0m0.000s
</span></code></pre></td></tr></table></div></figure>




		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2015-05-03T16:46:24-07:00" pubdate data-updated="true">May 3<sup>rd</sup>, 2015</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/cpp/'>cpp</a>, <a class='category' href='/blog/categories/projecteuler/'>projecteuler</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/04/28/euler-44-triangle/">
		
			Euler 45: Triangle, Pengagonal, Hexagonal Numbers</a>
	</h2>
	<div class="entry-content">
		<p>While we&rsquo;re doing brute force solutions, here&rsquo;s another one &hellip;</p>

<p><strong>Statutory Warning</strong>: <em>Spoilers Ahead</em></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
</pre></td><td class='code'><pre><code class='c++'><span class='line'><span class="kt">uint64_t</span> <span class="nf">get_triangle</span><span class="p">(</span><span class="kt">uint64_t</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="n">n</span> <span class="o">*</span> <span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">bool</span> <span class="nf">is_pentagonal</span><span class="p">(</span><span class="kt">uint64_t</span> <span class="n">num</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="c1">// y = x * (3*x - 1) / 2</span>
</span><span class='line'>  <span class="c1">// So x is an integral solution of 3x^2 + (-1)x + (-2y) = 0</span>
</span><span class='line'>  <span class="c1">// ... or (1 + sqrt(1 + 24y))/6</span>
</span><span class='line'>
</span><span class='line'>  <span class="kt">double</span> <span class="n">solution</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">24</span> <span class="o">*</span> <span class="n">num</span><span class="p">))</span> <span class="o">/</span> <span class="mf">6.0</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">double</span> <span class="n">dummy</span><span class="p">;</span>
</span><span class='line'>  <span class="k">return</span> <span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">modf</span><span class="p">(</span><span class="n">solution</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">dummy</span><span class="p">)</span> <span class="o">==</span> <span class="mf">0.0</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">bool</span> <span class="nf">is_hexagonal</span><span class="p">(</span><span class="kt">uint64_t</span> <span class="n">num</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="c1">// y = x * (2*x - 1)</span>
</span><span class='line'>  <span class="c1">// So x is an integral solution of 2x^2 + (-1)x + (-y) = 0</span>
</span><span class='line'>  <span class="c1">// ... or (1 + sqrt(1 + 8y))/4</span>
</span><span class='line'>
</span><span class='line'>  <span class="kt">double</span> <span class="n">solution</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">8</span> <span class="o">*</span> <span class="n">num</span><span class="p">))</span> <span class="o">/</span> <span class="mf">4.0</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">double</span> <span class="n">dummy</span><span class="p">;</span>
</span><span class='line'>  <span class="k">return</span> <span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">modf</span><span class="p">(</span><span class="n">solution</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">dummy</span><span class="p">)</span> <span class="o">==</span> <span class="mf">0.0</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">sanity_check</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="kt">uint64_t</span> <span class="n">t285</span> <span class="o">=</span> <span class="n">get_triangle</span><span class="p">(</span><span class="mi">285</span><span class="p">);</span>
</span><span class='line'>  <span class="n">assert</span><span class="p">(</span><span class="n">t285</span> <span class="o">==</span> <span class="mi">40755</span><span class="p">);</span>
</span><span class='line'>  <span class="n">assert</span><span class="p">(</span><span class="n">is_pentagonal</span><span class="p">(</span><span class="n">t285</span><span class="p">));</span>
</span><span class='line'>  <span class="n">assert</span><span class="p">(</span><span class="n">is_hexagonal</span><span class="p">(</span><span class="n">t285</span><span class="p">));</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Euler # 45 ... </span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">sanity_check</span><span class="p">();</span>
</span><span class='line'>  <span class="c1">// We already now that T_285 is pentagonal and hexagonal, so start</span>
</span><span class='line'>  <span class="c1">// from the next index;</span>
</span><span class='line'>  <span class="kt">uint64_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">286</span><span class="p">;</span>
</span><span class='line'>  <span class="k">for</span> <span class="p">(;</span> <span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="kt">uint64_t</span> <span class="n">num</span> <span class="o">=</span> <span class="n">get_triangle</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="n">is_pentagonal</span><span class="p">(</span><span class="n">num</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">is_hexagonal</span><span class="p">(</span><span class="n">num</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Found triangle# &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;  (&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">num</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;)&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span><span class='line'>      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">100000</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Done testing &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2015-04-28T12:41:00-07:00" pubdate data-updated="true">Apr 28<sup>th</sup>, 2015</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/cpp/'>cpp</a>, <a class='category' href='/blog/categories/projecteuler/'>projecteuler</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/04/28/euler-44-pentagonal-numbers/">
		
			Euler 44: Pentagonal Numbers</a>
	</h2>
	<div class="entry-content">
		<p>I said I&rsquo;d try to work out the next problem on paper, but I gave up and wrote a program for it again :(</p>

<p>I honestly thought it would take a long time to run, with the final answer some grotesquely long number &hellip; but I was mistaken. ProjectEuler agrees with this assessment, since this happens to be officially categorized as among the <em>fifty easiest problems</em> (!)</p>

<p>It took just <code>90ms</code> to run, which is simply too much of a tradeoff to pass up.</p>

<p><strong>Statutory Warning</strong>: <em>Spoilers Ahead</em></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
</pre></td><td class='code'><pre><code class='c++'><span class='line'><span class="kt">uint64_t</span> <span class="nf">get_pentagonal</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="n">assert</span><span class="p">(</span><span class="n">n</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">);</span>
</span><span class='line'>  <span class="k">return</span> <span class="n">n</span> <span class="o">*</span> <span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">bool</span> <span class="nf">is_pentagonal</span><span class="p">(</span><span class="kt">uint64_t</span> <span class="n">num</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="c1">// y = x * (3*x - 1) / 2</span>
</span><span class='line'>  <span class="c1">// So x is an integral solution of 3x^2 + (-1)x + (-2y) = 0</span>
</span><span class='line'>  <span class="c1">// ... or (1 + sqrt(1 + 24y))/6</span>
</span><span class='line'>
</span><span class='line'>  <span class="kt">double</span> <span class="n">solution</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">24</span> <span class="o">*</span> <span class="n">num</span><span class="p">))</span> <span class="o">/</span> <span class="mf">6.0</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">double</span> <span class="n">dummy</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// Check if the solution is an integer</span>
</span><span class='line'>  <span class="k">return</span> <span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">modf</span><span class="p">(</span><span class="n">solution</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">dummy</span><span class="p">)</span> <span class="o">==</span> <span class="mf">0.0</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">bool</span> <span class="nf">check_pentagonal</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="kt">int</span> <span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="n">assert</span><span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">);</span>
</span><span class='line'>  <span class="n">assert</span><span class="p">(</span><span class="n">j</span> <span class="o">&lt;</span> <span class="n">i</span><span class="p">);</span>
</span><span class='line'>  <span class="kt">uint64_t</span> <span class="n">penta_i</span> <span class="o">=</span> <span class="n">get_pentagonal</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
</span><span class='line'>  <span class="kt">uint64_t</span> <span class="n">penta_j</span> <span class="o">=</span> <span class="n">get_pentagonal</span><span class="p">(</span><span class="n">j</span><span class="p">);</span>
</span><span class='line'>  <span class="kt">uint64_t</span> <span class="n">sum</span> <span class="o">=</span> <span class="n">penta_i</span> <span class="o">+</span> <span class="n">penta_j</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">uint64_t</span> <span class="n">diff</span> <span class="o">=</span> <span class="n">penta_i</span> <span class="o">-</span> <span class="n">penta_j</span><span class="p">;</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="n">is_pentagonal</span><span class="p">(</span><span class="n">sum</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">is_pentagonal</span><span class="p">(</span><span class="n">diff</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Found match for i = &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">i</span>
</span><span class='line'>         <span class="o">&lt;&lt;</span> <span class="s">&quot; and j = &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">j</span>
</span><span class='line'>         <span class="o">&lt;&lt;</span> <span class="s">&quot;, with diff = &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">diff</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span><span class='line'>    <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Euler # 44 ... </span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">;</span> <span class="o">--</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">if</span> <span class="p">(</span><span class="n">check_pentagonal</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">1000</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Done testing &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2015-04-28T11:08:09-07:00" pubdate data-updated="true">Apr 28<sup>th</sup>, 2015</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/cpp/'>cpp</a>, <a class='category' href='/blog/categories/projecteuler/'>projecteuler</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/04/24/the-return-of-the-mainframes/">
		
			The Return of the Mainframes</a>
	</h2>
	<div class="entry-content">
		<p>Thomas Watson famously<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup> mispredicted the rise of <em>Personal Computers</em> in 1943 (“I think there is a world market for maybe five computers”) — but substituting “cloud service providers” for “computers” might soon be more accurate.</p>

<p>The “Personal Computing Revolution” happened for various reasons (plummeting costs of ever-faster microprocessors, various lucky accidents), but beyond the technology itself was (perhaps?) a utopian social vision where everyone would have computing power they owned, <em>that they controlled</em>.</p>

<p>This is particularly clear in the writings<sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup> and work of Alan Kay, who might have some claim to have invented the term<sup id="fnref:3"><a href="#fn:3" rel="footnote">3</a></sup>. His 1972 paper<sup id="fnref:4"><a href="#fn:4" rel="footnote">4</a></sup> lays this vision out with an example of two children who use their <em>DynaBooks</em> to easily create a complex simulation that they play as a game and challenge each other, and learn from each other.</p>

<p>Today, four decades later, we know that’s not what people use their wonderfully networked computers for. It’s porn<sup id="fnref:5"><a href="#fn:5" rel="footnote">5</a></sup>, essentially. And cat videos<sup id="fnref:6"><a href="#fn:6" rel="footnote">6</a></sup>.</p>

<p>Lest I get too hypocritical here — yes, that’s what I used my early internet time for too. That and lots and lots and lots of video games.</p>

<p>So it shouldn’t be <em>too</em> surprising that there’s little reason to keep this computing power <em>personal</em>, when it’s more efficient now to centralize it <em>and call it the “cloud”.</em> Your cat videos are faster, your porn is better, and you can catch up on all the daily minutiae of various people you’ll never meet in real life.</p>

<p>A guy called David Noble wrote “Forces of Production: A Social History of Industrial Automation”<sup id="fnref:7"><a href="#fn:7" rel="footnote">7</a></sup> which has this quote:</p>

<blockquote><p>… <strong>technology leads a double life</strong>, one which conforms to the intentions of designers and interests of power and another which contradicts them — proceeding behind the backs of their architects to yield unintended consequences and unintended possibilities … technologies rarely fulfill the fantasies of their creators.</p></blockquote>

<p>Yes, this was written in 1986, and I’ll leave drawing present-day analogies out of this — but whenever you hear people trying to <em>change the world through technology</em>, be atleast a <em>little</em> skeptical.</p>

<p>For a bit “heavier” discussion, see “The Social Meaning Of The Personal Computer: Or, <em>Why the Personal Computer Revolution Was No Revolution</em>”<sup id="fnref:8"><a href="#fn:8" rel="footnote">8</a></sup> by Bryan Pfaffenberger (more recent, in 2001<sup id="fnref:9"><a href="#fn:9" rel="footnote">9</a></sup>). A sample quote:</p>

<blockquote><p>Contemporary theories about technical innovation lend some weight to the view that the myth of a personal computer revolution was promoted, perhaps rather cynically, to sell hardware. Several recent studies suggest that technological innovators not only try to manipulate technology when they create a new artifact; they also try to manipulate the <em>social</em> world for which the new artifact is intended … prefers to speak of the “heterogenous engineer”, a figure who creates <strong>not only a new technology, but also a new framework of social roles, meanings, and values within which the new artifact will be situated</strong>. That the founders of the personal computer industry found the myths of personal computing advantageous for such purposes cannot be doubted.</p></blockquote>

<p>In a spirit of keeping this “fair and balanced” (!), all is not gloomy. There is an enormous DIY movement that has sprung up over the last decade, highly “tinkerable” machines such as the Arduino and the Raspberry Pi are huge successes, and lots of people really <em>do</em> want to know how computing systems <em>really</em> work<sup id="fnref:10"><a href="#fn:10" rel="footnote">10</a></sup> — but it’s always a bummer to swing from optimism to realism. <strong>The utopian vision of personal computing was probably just never meant to be.</strong></p>

<p>Suggested alternative titles included: <em>The revenge of the mainframes</em>, <em>The mainframe strikes back</em>, etc. You get the point.</p>
<div class="footnotes">
<hr/>
<ol>
<li id="fn:1">
<p>Or rather, <em>allegedly</em>, since <a href="http://en.wikipedia.org/wiki/Thomas_J._Watson#Famous_misquote">this is apocryphal</a>, and might really be attributed to Howard Aiken instead.<a href="#fnref:1" rev="footnote">&#8617;</a></p></li>
<li id="fn:2">
<p><a href="http://vpri.org/html/writings.php">http://vpri.org/html/writings.php</a><a href="#fnref:2" rev="footnote">&#8617;</a></p></li>
<li id="fn:3">
<p><a href="http://amturing.acm.org/award_winners/kay_3972189.cfm">http://amturing.acm.org/award_winners/kay_3972189.cfm</a><a href="#fnref:3" rev="footnote">&#8617;</a></p></li>
<li id="fn:4">
<p><a href="http://www.mprove.de/diplom/gui/kay72.html">A Personal Computer for Children of All Ages</a><a href="#fnref:4" rev="footnote">&#8617;</a></p></li>
<li id="fn:5">
<p><a href="http://www.dailyinfographic.com/the-stats-on-internet-pornography-infographic">http://www.dailyinfographic.com/the-stats-on-internet-pornography-infographic</a><a href="#fnref:5" rev="footnote">&#8617;</a></p></li>
<li id="fn:6">
<p><a href="http://www.reddit.com/r/estimation/comments/2fllbi/what_percentage_of_daily_internet_traffic_is_cats/">http://www.reddit.com/r/estimation/comments/2fllbi/what_percentage_of_daily_internet_traffic_is_cats/</a><a href="#fnref:6" rev="footnote">&#8617;</a></p></li>
<li id="fn:7">
<p><a href="http://www.amazon.com/Forces-Production-History-Industrial-Automation/dp/0195040465">http://www.amazon.com/Forces-Production-History-Industrial-Automation/dp/0195040465</a><a href="#fnref:7" rev="footnote">&#8617;</a></p></li>
<li id="fn:8">
<p>Original link long dead, but thanks to archive.org …  <a href="https://web.archive.org/web/20070109022206/http://pfaff.sts.virginia.edu/bphome/docs/pdf/social-meaning-personal-computer.pdf">https://web.archive.org/web/20070109022206/http://pfaff.sts.virginia.edu/bphome/docs/pdf/social-meaning-personal-computer.pdf</a><a href="#fnref:8" rev="footnote">&#8617;</a></p></li>
<li id="fn:9">
<p>Yes, that’s where I really got the Noble quote from, I didn’t really read the 1986 book, sorry :)<a href="#fnref:9" rev="footnote">&#8617;</a></p></li>
<li id="fn:10">
<p>And I’m looking forward to Maker Faire this year too!<a href="#fnref:10" rev="footnote">&#8617;</a></p></li>
</ol>
</div>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2015-04-24T00:22:01-07:00" pubdate data-updated="true">Apr 24<sup>th</sup>, 2015</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/cloud/'>cloud</a>, <a class='category' href='/blog/categories/computing/'>computing</a>, <a class='category' href='/blog/categories/mainframe/'>mainframe</a>, <a class='category' href='/blog/categories/personal/'>personal</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/04/17/the-compiler-whisperer-dot-dot-dot/">
		
			The Compiler Whisperer &#8230;</a>
	</h2>
	<div class="entry-content">
		<p>Came acros this comment by Knuth in <a href="http://cr.yp.to/talks/2015.04.16/slides-djb-20150416-a4.pdf">these slides</a>:</p>

<blockquote><p>We found ourselves always running up against the same problem: the compiler needs to be in a dialog with the programmer; it needs to know properties of the data, and whether certain cases can arise, etc. And we couldn’t think of a good language in which to have such a dialog.</p></blockquote>

<p>Sounds an awful lot like a SLIME session.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2015-04-17T18:42:18-07:00" pubdate data-updated="true">Apr 17<sup>th</sup>, 2015</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/compiler/'>compiler</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/04/10/fooling-around-with-array-memory-dot-dot-dot/">
		
			Fooling Around With Array Memory &#8230;</a>
	</h2>
	<div class="entry-content">
		<p>Something I saved in a scratch buffer once &hellip;</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
</pre></td><td class='code'><pre><code class='lisp'><span class='line'><span class="nb">*</span> <span class="p">(</span><span class="nb">room</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="nv">Dynamic</span> <span class="nv">space</span> <span class="nv">usage</span> <span class="nv">is:</span> <span class="mi">43</span><span class="o">,</span><span class="mi">629</span><span class="o">,</span><span class="mi">232</span> <span class="nv">bytes.</span>
</span><span class='line'><span class="nv">Read-only</span> <span class="nv">space</span> <span class="nv">usage</span> <span class="nv">is:</span> <span class="mi">6</span><span class="o">,</span><span class="mi">736</span> <span class="nv">bytes.</span>
</span><span class='line'><span class="nv">Static</span> <span class="nv">space</span> <span class="nv">usage</span> <span class="nv">is:</span> <span class="mi">4</span><span class="o">,</span><span class="mi">000</span> <span class="nv">bytes.</span>
</span><span class='line'><span class="nv">Control</span> <span class="nv">stack</span> <span class="nv">usage</span> <span class="nv">is:</span> <span class="mi">2</span><span class="o">,</span><span class="mi">976</span> <span class="nv">bytes.</span>
</span><span class='line'><span class="nv">Binding</span> <span class="nv">stack</span> <span class="nv">usage</span> <span class="nv">is:</span> <span class="mi">800</span> <span class="nv">bytes.</span>
</span><span class='line'><span class="nv">Control</span> <span class="nb">and</span> <span class="nv">binding</span> <span class="nv">stack</span> <span class="nv">usage</span> <span class="nv">is</span> <span class="nv">for</span> <span class="k">the</span> <span class="nv">current</span> <span class="nv">thread</span> <span class="nv">only.</span>
</span><span class='line'><span class="nv">Garbage</span> <span class="nv">collection</span> <span class="nv">is</span> <span class="nv">currently</span> <span class="nv">enabled.</span>
</span><span class='line'>
</span><span class='line'><span class="nv">Breakdown</span> <span class="nv">for</span> <span class="nv">dynamic</span> <span class="nv">space:</span>
</span><span class='line'><span class="mi">13</span><span class="o">,</span><span class="mi">392</span><span class="o">,</span><span class="mi">016</span> <span class="nv">bytes</span> <span class="nv">for</span> <span class="mi">12</span><span class="o">,</span><span class="mi">550</span> <span class="nv">code</span> <span class="nv">objects.</span>
</span><span class='line'><span class="mi">7</span><span class="o">,</span><span class="mi">629</span><span class="o">,</span><span class="mi">616</span> <span class="nv">bytes</span> <span class="nv">for</span> <span class="mi">87</span><span class="o">,</span><span class="mi">920</span> <span class="nv">instance</span> <span class="nv">objects.</span>
</span><span class='line'><span class="mi">7</span><span class="o">,</span><span class="mi">108</span><span class="o">,</span><span class="mi">736</span> <span class="nv">bytes</span> <span class="nv">for</span> <span class="mi">444</span><span class="o">,</span><span class="mi">296</span> <span class="nb">cons</span> <span class="nv">objects.</span>
</span><span class='line'><span class="mi">7</span><span class="o">,</span><span class="mi">093</span><span class="o">,</span><span class="mi">664</span> <span class="nv">bytes</span> <span class="nv">for</span> <span class="mi">59</span><span class="o">,</span><span class="mi">224</span> <span class="kt">simple-vector</span> <span class="nv">objects.</span>
</span><span class='line'><span class="mi">2</span><span class="o">,</span><span class="mi">268</span><span class="o">,</span><span class="mi">928</span> <span class="nv">bytes</span> <span class="nv">for</span> <span class="mi">35</span><span class="o">,</span><span class="mi">452</span> <span class="nc">symbol</span> <span class="nv">objects.</span>
</span><span class='line'><span class="mi">6</span><span class="o">,</span><span class="mi">136</span><span class="o">,</span><span class="mi">272</span> <span class="nv">bytes</span> <span class="nv">for</span> <span class="mi">115</span><span class="o">,</span><span class="mi">793</span> <span class="nv">other</span> <span class="nv">objects.</span>
</span><span class='line'><span class="mi">43</span><span class="o">,</span><span class="mi">629</span><span class="o">,</span><span class="mi">232</span> <span class="nv">bytes</span> <span class="nv">for</span> <span class="mi">755</span><span class="o">,</span><span class="mi">235</span> <span class="nv">dynamic</span> <span class="nv">objects</span> <span class="p">(</span><span class="nv">space</span> <span class="nv">total.</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="nb">*</span> <span class="p">(</span><span class="nb">defparameter</span> <span class="vg">*a*</span> <span class="p">(</span><span class="nb">make-array</span> <span class="o">&#39;</span><span class="p">(</span><span class="mi">3000</span> <span class="mi">3000</span><span class="p">)</span> <span class="ss">:element-type</span> <span class="o">&#39;</span><span class="p">(</span><span class="kt">unsigned-byte</span> <span class="mi">8</span><span class="p">)</span> <span class="ss">:initial-element</span> <span class="mi">0</span><span class="p">))</span>
</span><span class='line'>
</span><span class='line'><span class="vg">*A*</span>
</span><span class='line'><span class="nb">*</span> <span class="p">(</span><span class="nb">room</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="nv">Dynamic</span> <span class="nv">space</span> <span class="nv">usage</span> <span class="nv">is:</span> <span class="mi">52</span><span class="o">,</span><span class="mi">662</span><span class="o">,</span><span class="mi">000</span> <span class="nv">bytes.</span>
</span><span class='line'><span class="nv">Read-only</span> <span class="nv">space</span> <span class="nv">usage</span> <span class="nv">is:</span> <span class="mi">6</span><span class="o">,</span><span class="mi">736</span> <span class="nv">bytes.</span>
</span><span class='line'><span class="nv">Static</span> <span class="nv">space</span> <span class="nv">usage</span> <span class="nv">is:</span> <span class="mi">4</span><span class="o">,</span><span class="mi">000</span> <span class="nv">bytes.</span>
</span><span class='line'><span class="nv">Control</span> <span class="nv">stack</span> <span class="nv">usage</span> <span class="nv">is:</span> <span class="mi">2</span><span class="o">,</span><span class="mi">976</span> <span class="nv">bytes.</span>
</span><span class='line'><span class="nv">Binding</span> <span class="nv">stack</span> <span class="nv">usage</span> <span class="nv">is:</span> <span class="mi">800</span> <span class="nv">bytes.</span>
</span><span class='line'><span class="nv">Control</span> <span class="nb">and</span> <span class="nv">binding</span> <span class="nv">stack</span> <span class="nv">usage</span> <span class="nv">is</span> <span class="nv">for</span> <span class="k">the</span> <span class="nv">current</span> <span class="nv">thread</span> <span class="nv">only.</span>
</span><span class='line'><span class="nv">Garbage</span> <span class="nv">collection</span> <span class="nv">is</span> <span class="nv">currently</span> <span class="nv">enabled.</span>
</span><span class='line'>
</span><span class='line'><span class="nv">Breakdown</span> <span class="nv">for</span> <span class="nv">dynamic</span> <span class="nv">space:</span>
</span><span class='line'><span class="mi">13</span><span class="o">,</span><span class="mi">392</span><span class="o">,</span><span class="mi">016</span> <span class="nv">bytes</span> <span class="nv">for</span> <span class="mi">12</span><span class="o">,</span><span class="mi">550</span> <span class="nv">code</span> <span class="nv">objects.</span>
</span><span class='line'><span class="mi">9</span><span class="o">,</span><span class="mi">221</span><span class="o">,</span><span class="mi">424</span> <span class="nv">bytes</span> <span class="nv">for</span> <span class="mi">1</span><span class="o">,</span><span class="mi">914</span> <span class="nv">simple-array-unsigned-byte-8</span> <span class="nv">objects.</span>
</span><span class='line'><span class="mi">7</span><span class="o">,</span><span class="mi">644</span><span class="o">,</span><span class="mi">768</span> <span class="nv">bytes</span> <span class="nv">for</span> <span class="mi">88</span><span class="o">,</span><span class="mi">074</span> <span class="nv">instance</span> <span class="nv">objects.</span>
</span><span class='line'><span class="mi">7</span><span class="o">,</span><span class="mi">123</span><span class="o">,</span><span class="mi">088</span> <span class="nv">bytes</span> <span class="nv">for</span> <span class="mi">445</span><span class="o">,</span><span class="mi">193</span> <span class="nb">cons</span> <span class="nv">objects.</span>
</span><span class='line'><span class="mi">7</span><span class="o">,</span><span class="mi">096</span><span class="o">,</span><span class="mi">224</span> <span class="nv">bytes</span> <span class="nv">for</span> <span class="mi">59</span><span class="o">,</span><span class="mi">245</span> <span class="kt">simple-vector</span> <span class="nv">objects.</span>
</span><span class='line'><span class="mi">8</span><span class="o">,</span><span class="mi">217</span><span class="o">,</span><span class="mi">248</span> <span class="nv">bytes</span> <span class="nv">for</span> <span class="mi">149</span><span class="o">,</span><span class="mi">969</span> <span class="nv">other</span> <span class="nv">objects.</span>
</span><span class='line'><span class="mi">52</span><span class="o">,</span><span class="mi">694</span><span class="o">,</span><span class="mi">768</span> <span class="nv">bytes</span> <span class="nv">for</span> <span class="mi">756</span><span class="o">,</span><span class="mi">945</span> <span class="nv">dynamic</span> <span class="nv">objects</span> <span class="p">(</span><span class="nv">space</span> <span class="nv">total.</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="nb">*</span> <span class="p">(</span><span class="nv">gc</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="no">NIL</span>
</span><span class='line'><span class="nb">*</span> <span class="p">(</span><span class="nb">room</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="nv">Dynamic</span> <span class="nv">space</span> <span class="nv">usage</span> <span class="nv">is:</span> <span class="mi">43</span><span class="o">,</span><span class="mi">810</span><span class="o">,</span><span class="mi">864</span> <span class="nv">bytes.</span>
</span><span class='line'><span class="nv">Read-only</span> <span class="nv">space</span> <span class="nv">usage</span> <span class="nv">is:</span> <span class="mi">6</span><span class="o">,</span><span class="mi">736</span> <span class="nv">bytes.</span>
</span><span class='line'><span class="nv">Static</span> <span class="nv">space</span> <span class="nv">usage</span> <span class="nv">is:</span> <span class="mi">4</span><span class="o">,</span><span class="mi">000</span> <span class="nv">bytes.</span>
</span><span class='line'><span class="nv">Control</span> <span class="nv">stack</span> <span class="nv">usage</span> <span class="nv">is:</span> <span class="mi">2</span><span class="o">,</span><span class="mi">976</span> <span class="nv">bytes.</span>
</span><span class='line'><span class="nv">Binding</span> <span class="nv">stack</span> <span class="nv">usage</span> <span class="nv">is:</span> <span class="mi">800</span> <span class="nv">bytes.</span>
</span><span class='line'><span class="nv">Control</span> <span class="nb">and</span> <span class="nv">binding</span> <span class="nv">stack</span> <span class="nv">usage</span> <span class="nv">is</span> <span class="nv">for</span> <span class="k">the</span> <span class="nv">current</span> <span class="nv">thread</span> <span class="nv">only.</span>
</span><span class='line'><span class="nv">Garbage</span> <span class="nv">collection</span> <span class="nv">is</span> <span class="nv">currently</span> <span class="nv">enabled.</span>
</span><span class='line'>
</span><span class='line'><span class="nv">Breakdown</span> <span class="nv">for</span> <span class="nv">dynamic</span> <span class="nv">space:</span>
</span><span class='line'><span class="mi">13</span><span class="o">,</span><span class="mi">392</span><span class="o">,</span><span class="mi">016</span> <span class="nv">bytes</span> <span class="nv">for</span> <span class="mi">12</span><span class="o">,</span><span class="mi">550</span> <span class="nv">code</span> <span class="nv">objects.</span>
</span><span class='line'><span class="mi">7</span><span class="o">,</span><span class="mi">687</span><span class="o">,</span><span class="mi">200</span> <span class="nv">bytes</span> <span class="nv">for</span> <span class="mi">88</span><span class="o">,</span><span class="mi">515</span> <span class="nv">instance</span> <span class="nv">objects.</span>
</span><span class='line'><span class="mi">7</span><span class="o">,</span><span class="mi">144</span><span class="o">,</span><span class="mi">528</span> <span class="nv">bytes</span> <span class="nv">for</span> <span class="mi">59</span><span class="o">,</span><span class="mi">470</span> <span class="kt">simple-vector</span> <span class="nv">objects.</span>
</span><span class='line'><span class="mi">7</span><span class="o">,</span><span class="mi">134</span><span class="o">,</span><span class="mi">528</span> <span class="nv">bytes</span> <span class="nv">for</span> <span class="mi">445</span><span class="o">,</span><span class="mi">908</span> <span class="nb">cons</span> <span class="nv">objects.</span>
</span><span class='line'><span class="mi">2</span><span class="o">,</span><span class="mi">269</span><span class="o">,</span><span class="mi">312</span> <span class="nv">bytes</span> <span class="nv">for</span> <span class="mi">35</span><span class="o">,</span><span class="mi">458</span> <span class="nc">symbol</span> <span class="nv">objects.</span>
</span><span class='line'><span class="mi">6</span><span class="o">,</span><span class="mi">183</span><span class="o">,</span><span class="mi">280</span> <span class="nv">bytes</span> <span class="nv">for</span> <span class="mi">116</span><span class="o">,</span><span class="mi">551</span> <span class="nv">other</span> <span class="nv">objects.</span>
</span><span class='line'><span class="mi">43</span><span class="o">,</span><span class="mi">810</span><span class="o">,</span><span class="mi">864</span> <span class="nv">bytes</span> <span class="nv">for</span> <span class="mi">758</span><span class="o">,</span><span class="mi">452</span> <span class="nv">dynamic</span> <span class="nv">objects</span> <span class="p">(</span><span class="nv">space</span> <span class="nv">total.</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2015-04-10T16:42:23-07:00" pubdate data-updated="true">Apr 10<sup>th</sup>, 2015</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/lisp/'>lisp</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/03/25/euler-42-pandigitals-with-sub-string-divisibility/">
		
			Euler 42: Pandigitals With Sub-string Divisibility</a>
	</h2>
	<div class="entry-content">
		<p>These brute force solutions are getting a bit worrying, but here is another one. (I keep promising myself to get out of my comfort zone, but (<em>unfortunately!</em>) code like this is too easy to write).</p>

<p><strong>Statutory Warning</strong>: <em>Spoilers ahead</em></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
</pre></td><td class='code'><pre><code class='lisp'><span class='line'><span class="c1">;; For all 0-9 pandigital numbers, find the ones which have successive</span>
</span><span class='line'><span class="c1">;; substrings of length 3 diisible by 2,3,...,17.</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nb">defparameter</span> <span class="vg">*prime-divisors*</span> <span class="o">#(</span><span class="mi">17</span> <span class="mi">13</span> <span class="mi">11</span> <span class="mi">7</span> <span class="mi">5</span> <span class="mi">3</span> <span class="mi">2</span><span class="p">))</span>
</span><span class='line'>
</span><span class='line'><span class="c1">;; A number is 0-9 pandigital if it (a) is 10 digits long, and (b) has every digit from 0-9</span>
</span><span class='line'><span class="p">(</span><span class="nb">defun</span> <span class="nv">is-pandigital</span> <span class="p">(</span><span class="nv">num</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="k">declare</span> <span class="p">(</span><span class="k">type</span> <span class="kt">fixnum</span> <span class="nv">num</span><span class="p">))</span>
</span><span class='line'>  <span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="nv">digits-seen</span> <span class="p">(</span><span class="nb">make-array</span> <span class="mi">10</span> <span class="ss">:element-type</span> <span class="ss">&#39;bit</span> <span class="ss">:initial-element</span> <span class="mi">0</span><span class="p">)))</span>
</span><span class='line'>    <span class="p">(</span><span class="nb">do*</span> <span class="p">((</span><span class="nv">n</span> <span class="nv">num</span> <span class="p">(</span><span class="nb">floor</span> <span class="p">(</span><span class="nb">/</span> <span class="nv">n</span> <span class="mi">10</span><span class="p">)))</span>
</span><span class='line'>          <span class="p">(</span><span class="nv">d</span> <span class="p">(</span><span class="nb">mod</span> <span class="nv">n</span> <span class="mi">10</span><span class="p">)</span> <span class="p">(</span><span class="nb">mod</span> <span class="nv">n</span> <span class="mi">10</span><span class="p">))</span>
</span><span class='line'>          <span class="p">(</span><span class="nv">num-digits</span> <span class="mi">0</span> <span class="p">(</span><span class="nb">1+</span> <span class="nv">num-digits</span><span class="p">)))</span>
</span><span class='line'>         <span class="p">((</span><span class="nb">=</span> <span class="nv">n</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span><span class="nb">and</span> <span class="p">(</span><span class="nb">=</span> <span class="nv">num-digits</span> <span class="mi">10</span><span class="p">)</span>
</span><span class='line'>                       <span class="p">(</span><span class="nb">every</span> <span class="p">(</span><span class="k">lambda</span> <span class="p">(</span><span class="nv">x</span><span class="p">)</span> <span class="p">(</span><span class="nb">=</span> <span class="nv">x</span> <span class="mi">1</span><span class="p">))</span> <span class="nv">digits-seen</span><span class="p">)))</span>
</span><span class='line'>      <span class="p">(</span><span class="nb">setf</span> <span class="p">(</span><span class="nb">bit</span> <span class="nv">digits-seen</span> <span class="nv">d</span><span class="p">)</span> <span class="mi">1</span><span class="p">))))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nb">defun</span> <span class="nv">check-divisibility</span> <span class="p">(</span><span class="nv">num</span> <span class="nv">div-index</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nb">=</span> <span class="mi">0</span> <span class="p">(</span><span class="nb">mod</span> <span class="nv">num</span> <span class="p">(</span><span class="nb">aref</span> <span class="vg">*prime-divisors*</span> <span class="nv">div-index</span><span class="p">))))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nb">defun</span> <span class="nv">get-three-digit-num</span> <span class="p">(</span><span class="nv">num</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="nv">ones</span> <span class="p">(</span><span class="nb">mod</span> <span class="nv">num</span> <span class="mi">10</span><span class="p">))</span>
</span><span class='line'>        <span class="p">(</span><span class="nv">tens</span> <span class="p">(</span><span class="nb">mod</span> <span class="p">(</span><span class="nb">floor</span> <span class="p">(</span><span class="nb">/</span> <span class="nv">num</span> <span class="mi">10</span><span class="p">))</span> <span class="mi">10</span><span class="p">))</span>
</span><span class='line'>        <span class="p">(</span><span class="nv">hundreds</span> <span class="p">(</span><span class="nb">mod</span> <span class="p">(</span><span class="nb">floor</span> <span class="p">(</span><span class="nb">/</span> <span class="nv">num</span> <span class="mi">100</span><span class="p">))</span> <span class="mi">10</span><span class="p">)))</span>
</span><span class='line'>    <span class="p">(</span><span class="nb">+</span> <span class="nv">ones</span>
</span><span class='line'>       <span class="p">(</span><span class="nb">*</span> <span class="mi">10</span> <span class="nv">tens</span><span class="p">)</span>
</span><span class='line'>       <span class="p">(</span><span class="nb">*</span> <span class="mi">100</span> <span class="nv">hundreds</span><span class="p">))))</span>
</span><span class='line'>
</span><span class='line'><span class="c1">;; Go backwards in groups of three digits and check divisibility</span>
</span><span class='line'><span class="p">(</span><span class="nb">defun</span> <span class="nv">has-divisible-substrings</span> <span class="p">(</span><span class="nv">num</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nb">do*</span> <span class="p">((</span><span class="nv">n</span> <span class="nv">num</span> <span class="p">(</span><span class="nb">floor</span> <span class="p">(</span><span class="nb">/</span> <span class="nv">n</span> <span class="mi">10</span><span class="p">)))</span>
</span><span class='line'>        <span class="p">(</span><span class="nv">div-index</span> <span class="mi">0</span> <span class="p">(</span><span class="nb">1+</span> <span class="nv">div-index</span><span class="p">))</span>
</span><span class='line'>        <span class="p">(</span><span class="nv">dividend</span> <span class="p">(</span><span class="nv">get-three-digit-num</span> <span class="nv">n</span><span class="p">)</span> <span class="p">(</span><span class="nv">get-three-digit-num</span> <span class="nv">n</span><span class="p">))</span>
</span><span class='line'>        <span class="p">(</span><span class="nv">div-p</span> <span class="p">(</span><span class="nv">check-divisibility</span> <span class="nv">dividend</span> <span class="nv">div-index</span><span class="p">)</span>
</span><span class='line'>               <span class="p">(</span><span class="nb">and</span> <span class="nv">div-p</span> <span class="p">(</span><span class="nv">check-divisibility</span> <span class="nv">dividend</span> <span class="nv">div-index</span><span class="p">))))</span>
</span><span class='line'>       <span class="p">((</span><span class="nb">&lt;</span> <span class="nv">n</span> <span class="mi">10000</span><span class="p">)</span> <span class="nv">div-p</span><span class="p">)))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nb">defun</span> <span class="nv">check-substring-pandigital-range</span> <span class="p">(</span><span class="nv">start</span> <span class="nv">end</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="k">declare</span> <span class="p">(</span><span class="k">type</span> <span class="kt">fixnum</span> <span class="nv">start</span> <span class="nv">end</span><span class="p">))</span>
</span><span class='line'>  <span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="nv">candidates</span> <span class="o">&#39;</span><span class="p">()))</span>
</span><span class='line'>    <span class="p">(</span><span class="nb">loop</span> <span class="nv">for</span> <span class="nv">num</span> <span class="nv">from</span> <span class="nv">start</span> <span class="nv">to</span> <span class="nv">end</span> <span class="nb">do</span>
</span><span class='line'>         <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="nb">and</span> <span class="p">(</span><span class="nv">is-pandigital</span> <span class="nv">num</span><span class="p">)</span>
</span><span class='line'>                  <span class="p">(</span><span class="nv">has-divisible-substrings</span> <span class="nv">num</span><span class="p">))</span>
</span><span class='line'>             <span class="p">(</span><span class="nb">push</span> <span class="nv">num</span> <span class="nv">candidates</span><span class="p">)))</span>
</span><span class='line'>    <span class="nv">candidates</span><span class="p">))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nb">defun</span> <span class="nv">euler43</span> <span class="p">()</span>
</span><span class='line'>  <span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="nv">candidates</span> <span class="p">(</span><span class="nv">check-substring-pandigital-range</span> <span class="mi">1234567890</span> <span class="mi">9876543210</span><span class="p">)))</span>
</span><span class='line'>    <span class="p">(</span><span class="nb">print</span> <span class="nv">candidates</span><span class="p">)</span>
</span><span class='line'>    <span class="p">(</span><span class="nb">apply</span> <span class="nf">#&#39;</span><span class="nb">+</span> <span class="nv">candidates</span><span class="p">)))</span>
</span></code></pre></td></tr></table></div></figure>


<p>As before, evaluating <code>(euler43)</code> shows the final solution (sum), along with the (six!) candidate numbers making up the sum. This took a whopping <code>4.3 hours</code> to churn through the 8.5 billion numbers. Maybe I need to create a new constraint for these problems: either pen-and-paper, or something <em>slow</em> (like Python ?! :P), so that brute force is never tempting again.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2015-03-25T16:33:56-07:00" pubdate data-updated="true">Mar 25<sup>th</sup>, 2015</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/lisp/'>lisp</a>, <a class='category' href='/blog/categories/projecteuler/'>projecteuler</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/03/24/a-second-look-at-python/">
		
			A Second Look at Python</a>
	</h2>
	<div class="entry-content">
		<p>The first time I <em>used</em> Python for something (it was a silly little script, IIRC) was about 12 years ago. I eventually gave it up in shock and horror the first time I encountered a critical error that turned out to be a <em>syntax error</em>.</p>

<p>Over the years I&rsquo;ve had to mess with Python code on and off but it&rsquo;s always been something I&rsquo;ve done reluctantly, under the lingering effects of PTSD from the &ldquo;I can&rsquo;t tell how this program might fail&rdquo; experience.</p>

<p>Recently I had to work with <code>IPython</code> and &hellip; it didn&rsquo;t seem so bad. So I&rsquo;ve decided to wipe the slate clean in its favor and re-evaluate it on its own terms. So much is different over the last decade that it seems like a good idea to start afresh anyway.</p>

<p>The other place to consider the language is in my constant &ldquo;what language is best for beginners?&rdquo; contest &mdash; until now it was basically Go vs Racket, but I might include Python as a contender too. We&rsquo;ll see &hellip;</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2015-03-24T23:53:44-07:00" pubdate data-updated="true">Mar 24<sup>th</sup>, 2015</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/python/'>python</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/03/22/euler-42-coded-triangle-numbers/">
		
			Euler 42: Coded Triangle Numbers</a>
	</h2>
	<div class="entry-content">
		<p>Very straightforward, this one. And I don&rsquo;t need to feel bad that I did it the simple way. If you&rsquo;re wondering where <code>split-sequence-if</code> and <code>read-file</code> came from, the answer is <code>rutils</code>, which is a good general-purpose utility package, a sort of superset of <code>alexandria</code>, and just a <code>(ql:quickload 'rutils)</code> away. As before, the final answer is obtained by evaluating <code>(euler42)</code>.</p>

<p><strong>Statutory Warning</strong>: <em>spoilers ahead</em></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
</pre></td><td class='code'><pre><code class='lisp'><span class='line'><span class="c1">;; If x = 0.5 * n * (n+1) is a triangle number, then there is an</span>
</span><span class='line'><span class="c1">;; integral solution for n^2 + n - 2*x = 0.</span>
</span><span class='line'><span class="p">(</span><span class="nb">defun</span> <span class="nv">quadratic-solution</span> <span class="p">(</span><span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="nv">det</span> <span class="p">(</span><span class="nb">sqrt</span> <span class="p">(</span><span class="nb">-</span> <span class="p">(</span><span class="nb">*</span> <span class="nv">b</span> <span class="nv">b</span><span class="p">)</span> <span class="p">(</span><span class="nb">*</span> <span class="mi">4</span> <span class="nv">a</span> <span class="nv">c</span><span class="p">))))</span>
</span><span class='line'>        <span class="p">(</span><span class="nv">denom</span> <span class="p">(</span><span class="nb">*</span> <span class="mi">2</span> <span class="nv">a</span><span class="p">)))</span>
</span><span class='line'>    <span class="p">(</span><span class="nb">cons</span> <span class="p">(</span><span class="nb">/</span> <span class="p">(</span><span class="nb">-</span> <span class="p">(</span><span class="nb">-</span> <span class="nv">b</span><span class="p">)</span> <span class="nv">det</span><span class="p">)</span> <span class="nv">denom</span><span class="p">)</span>
</span><span class='line'>          <span class="p">(</span><span class="nb">/</span> <span class="p">(</span><span class="nb">+</span> <span class="p">(</span><span class="nb">-</span> <span class="nv">b</span><span class="p">)</span> <span class="nv">det</span><span class="p">)</span> <span class="nv">denom</span><span class="p">))))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nb">defun</span> <span class="nv">positive-int</span> <span class="p">(</span><span class="nv">num</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nb">and</span> <span class="p">(</span><span class="nb">integerp</span> <span class="nv">num</span><span class="p">)</span>
</span><span class='line'>       <span class="p">(</span><span class="nb">plusp</span> <span class="nv">num</span><span class="p">)))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nb">defun</span> <span class="nv">is-triangle-number</span> <span class="p">(</span><span class="nv">num</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="nv">soln</span> <span class="p">(</span><span class="nv">quadratic-solution</span> <span class="mi">1</span> <span class="mi">1</span> <span class="p">(</span><span class="nb">*</span> <span class="p">(</span><span class="nb">-</span> <span class="mi">2</span><span class="p">)</span> <span class="nv">num</span><span class="p">))))</span>
</span><span class='line'>    <span class="p">(</span><span class="nb">or</span> <span class="p">(</span><span class="nv">positive-int</span> <span class="p">(</span><span class="nb">car</span> <span class="nv">soln</span><span class="p">))</span>
</span><span class='line'>        <span class="p">(</span><span class="nv">positive-int</span> <span class="p">(</span><span class="nb">cdr</span> <span class="nv">soln</span><span class="p">)))))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nb">defun</span> <span class="nv">char-&gt;number</span> <span class="p">(</span><span class="nb">char</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nb">1+</span> <span class="p">(</span><span class="nb">-</span> <span class="p">(</span><span class="nb">char-code</span> <span class="nb">char</span><span class="p">)</span> <span class="p">(</span><span class="nb">char-code</span> <span class="sc">#\A</span><span class="p">))))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nb">defun</span> <span class="nv">is-triangle-word</span> <span class="p">(</span><span class="nv">word</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="nv">value</span> <span class="p">(</span><span class="nb">loop</span> <span class="nv">for</span> <span class="nb">char</span> <span class="nv">across</span> <span class="nv">word</span>
</span><span class='line'>                  <span class="nv">summing</span> <span class="p">(</span><span class="nv">char-&gt;number</span> <span class="nb">char</span><span class="p">))))</span>
</span><span class='line'>    <span class="p">(</span><span class="nv">is-triangle-number</span> <span class="nv">value</span><span class="p">)))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nb">defun</span> <span class="nv">euler42</span> <span class="p">()</span>
</span><span class='line'>  <span class="c1">;; Read in the file, split on the commas, remove the quotes</span>
</span><span class='line'>  <span class="p">(</span><span class="k">let*</span> <span class="p">((</span><span class="nv">file-text</span> <span class="p">(</span><span class="nv">read-file</span> <span class="s">&quot;/home/agam/Downloads/p042_words.txt&quot;</span><span class="p">))</span>
</span><span class='line'>         <span class="p">(</span><span class="nv">words-with-quotes</span> <span class="p">(</span><span class="nv">split-sequence-if</span>
</span><span class='line'>                             <span class="p">(</span><span class="k">lambda</span> <span class="p">(</span><span class="nb">char</span><span class="p">)</span> <span class="p">(</span><span class="nb">eq</span> <span class="nb">char</span> <span class="sc">#\,</span><span class="p">))</span>
</span><span class='line'>                             <span class="nv">file-text</span><span class="p">))</span>
</span><span class='line'>         <span class="p">(</span><span class="nv">words</span> <span class="p">(</span><span class="nb">mapcar</span> <span class="p">(</span><span class="k">lambda</span> <span class="p">(</span><span class="nv">w</span><span class="p">)</span> <span class="p">(</span><span class="nb">remove</span> <span class="sc">#\&quot;</span> <span class="nv">w</span><span class="p">))</span>
</span><span class='line'>                        <span class="nv">words-with-quotes</span><span class="p">)))</span>
</span><span class='line'>    <span class="p">(</span><span class="nb">loop</span> <span class="nv">for</span> <span class="nv">w</span> <span class="nv">in</span> <span class="nv">words</span> <span class="nb">count</span>
</span><span class='line'>         <span class="p">(</span><span class="nv">is-triangle-word</span> <span class="nv">w</span><span class="p">))))</span>
</span></code></pre></td></tr></table></div></figure>




		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2015-03-22T18:11:01-07:00" pubdate data-updated="true">Mar 22<sup>nd</sup>, 2015</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/lisp/'>lisp</a>, <a class='category' href='/blog/categories/projecteuler/'>projecteuler</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/03/21/euler-41-pandigital-primes/">
		
			Euler 41: Pandigital Primes</a>
	</h2>
	<div class="entry-content">
		<p>Yet another <em>brute-force</em> solution, pushing the line a bit at <em>1991 seconds</em>. But hey, it works, and was quick to write, so &hellip;</p>

<p><strong>Statutory Warning</strong>: <em>spoilers ahead</em></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
</pre></td><td class='code'><pre><code class='lisp'><span class='line'><span class="p">(</span><span class="nb">defparameter</span> <span class="vg">*max-num-limit*</span> <span class="mi">1000000000</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nb">defparameter</span> <span class="vg">*all-numbers*</span> <span class="p">(</span><span class="nb">make-array</span> <span class="p">(</span><span class="nb">list</span> <span class="vg">*max-num-limit*</span><span class="p">)</span> <span class="ss">:element-type</span> <span class="ss">&#39;bit</span> <span class="ss">:initial-element</span> <span class="mi">1</span><span class="p">))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nb">defun</span> <span class="nv">mark-primes</span> <span class="p">(</span><span class="k">&amp;optional</span> <span class="p">(</span><span class="nv">n</span> <span class="vg">*max-num-limit*</span><span class="p">))</span>
</span><span class='line'>  <span class="c1">;; 0 and 1 are not prime</span>
</span><span class='line'>  <span class="p">(</span><span class="nv">mark-not-prime</span> <span class="mi">0</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nv">mark-not-prime</span> <span class="mi">1</span><span class="p">)</span>
</span><span class='line'>  <span class="c1">;; Mark 2 as prime, then do the following:</span>
</span><span class='line'>  <span class="c1">;; (1) Mark all multiples of the prime number,</span>
</span><span class='line'>  <span class="c1">;; (2) Find next available prime number, mark it as prime,</span>
</span><span class='line'>  <span class="c1">;; Repeat (1) until n</span>
</span><span class='line'>  <span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="nv">prime</span> <span class="mi">2</span><span class="p">))</span>
</span><span class='line'>    <span class="p">(</span><span class="nb">loop</span> <span class="nv">while</span> <span class="p">(</span><span class="nb">&lt;</span> <span class="nv">prime</span> <span class="nv">n</span><span class="p">)</span> <span class="nb">do</span>
</span><span class='line'>         <span class="p">(</span><span class="nv">mark-prime-multiples</span> <span class="nv">prime</span> <span class="nv">n</span><span class="p">)</span>
</span><span class='line'>         <span class="p">(</span><span class="nb">setf</span> <span class="nv">prime</span> <span class="p">(</span><span class="nv">find-next-prime</span> <span class="nv">prime</span> <span class="nv">n</span><span class="p">)))))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nb">defun</span> <span class="nv">mark-not-prime</span> <span class="p">(</span><span class="nv">idx</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nb">setf</span> <span class="p">(</span><span class="nb">bit</span> <span class="vg">*all-numbers*</span> <span class="nv">idx</span><span class="p">)</span> <span class="mi">0</span><span class="p">))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nb">defun</span> <span class="nv">mark-prime-multiples</span> <span class="p">(</span><span class="nv">prime</span> <span class="nv">limit</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nb">do</span> <span class="p">((</span><span class="nv">i</span> <span class="p">(</span><span class="nb">*</span> <span class="nv">prime</span> <span class="mi">2</span><span class="p">)</span> <span class="p">(</span><span class="nb">+</span> <span class="nv">i</span> <span class="nv">prime</span><span class="p">)))</span>
</span><span class='line'>      <span class="p">((</span><span class="nb">&gt;=</span> <span class="nv">i</span> <span class="nv">limit</span><span class="p">))</span>
</span><span class='line'>    <span class="p">(</span><span class="nv">mark-not-prime</span> <span class="nv">i</span><span class="p">)))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nb">defun</span> <span class="nv">find-next-prime</span> <span class="p">(</span><span class="nv">prev-prime</span> <span class="nv">limit</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nb">do</span> <span class="p">((</span><span class="nv">i</span> <span class="p">(</span><span class="nb">1+</span> <span class="nv">prev-prime</span><span class="p">)</span> <span class="p">(</span><span class="nb">1+</span> <span class="nv">i</span><span class="p">)))</span>
</span><span class='line'>      <span class="p">((</span><span class="nb">or</span> <span class="p">(</span><span class="nb">=</span> <span class="nv">i</span> <span class="nv">limit</span><span class="p">)</span> <span class="p">(</span><span class="nb">=</span> <span class="mi">1</span> <span class="p">(</span><span class="nb">bit</span> <span class="vg">*all-numbers*</span> <span class="nv">i</span><span class="p">)))</span> <span class="nv">i</span><span class="p">)))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nb">defun</span> <span class="nv">is-prime</span> <span class="p">(</span><span class="nv">n</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nb">=</span> <span class="mi">1</span> <span class="p">(</span><span class="nb">bit</span> <span class="vg">*all-numbers*</span> <span class="nv">n</span><span class="p">)))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nb">defun</span> <span class="nv">get-num-digits</span> <span class="p">(</span><span class="nv">n</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nb">ceiling</span> <span class="p">(</span><span class="nb">log</span> <span class="nv">n</span> <span class="mi">10</span><span class="p">)))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nb">defun</span> <span class="nv">is-pandigital</span> <span class="p">(</span><span class="nv">n</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="k">let*</span> <span class="p">((</span><span class="nv">num-digits</span> <span class="p">(</span><span class="nv">get-num-digits</span> <span class="nv">n</span><span class="p">))</span>
</span><span class='line'>         <span class="p">(</span><span class="nv">digits</span> <span class="p">(</span><span class="nb">make-array</span> <span class="nv">num-digits</span> <span class="ss">:element-type</span> <span class="ss">&#39;bit</span> <span class="ss">:initial-element</span> <span class="mi">0</span><span class="p">)))</span>
</span><span class='line'>    <span class="p">(</span><span class="nb">loop</span> <span class="nv">while</span> <span class="p">(</span><span class="nb">and</span> <span class="p">(</span><span class="nb">&gt;</span> <span class="nv">n</span> <span class="mi">0</span><span class="p">)</span>
</span><span class='line'>                     <span class="p">(</span><span class="nb">&gt;</span> <span class="p">(</span><span class="nb">mod</span> <span class="nv">n</span> <span class="mi">10</span><span class="p">)</span> <span class="mi">0</span><span class="p">)</span>
</span><span class='line'>                     <span class="p">(</span><span class="nb">&lt;=</span> <span class="p">(</span><span class="nb">mod</span> <span class="nv">n</span> <span class="mi">10</span><span class="p">)</span> <span class="nv">num-digits</span><span class="p">))</span> <span class="nb">do</span>
</span><span class='line'>         <span class="p">(</span><span class="nb">setf</span> <span class="p">(</span><span class="nb">bit</span> <span class="nv">digits</span> <span class="p">(</span><span class="nb">1-</span> <span class="p">(</span><span class="nb">mod</span> <span class="nv">n</span> <span class="mi">10</span><span class="p">)))</span> <span class="mi">1</span><span class="p">)</span>
</span><span class='line'>         <span class="p">(</span><span class="nb">setf</span> <span class="nv">n</span> <span class="p">(</span><span class="nb">floor</span> <span class="p">(</span><span class="nb">/</span> <span class="nv">n</span> <span class="mi">10</span><span class="p">))))</span>
</span><span class='line'>    <span class="p">(</span><span class="nb">=</span> <span class="p">(</span><span class="nb">length</span> <span class="nv">digits</span><span class="p">)</span> <span class="p">(</span><span class="nb">count</span> <span class="mi">1</span> <span class="nv">digits</span><span class="p">))))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nb">defun</span> <span class="nv">euler41</span> <span class="p">()</span>
</span><span class='line'>  <span class="p">(</span><span class="nv">mark-primes</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nb">do</span> <span class="p">((</span><span class="nv">n</span> <span class="mi">987654321</span> <span class="p">(</span><span class="nb">1-</span> <span class="nv">n</span><span class="p">)))</span>
</span><span class='line'>      <span class="p">((</span><span class="nb">and</span> <span class="p">(</span><span class="nv">is-pandigital</span> <span class="nv">n</span><span class="p">)</span> <span class="p">(</span><span class="nv">is-prime</span> <span class="nv">n</span><span class="p">))</span> <span class="nv">n</span><span class="p">)))</span>
</span></code></pre></td></tr></table></div></figure>


<p>Everything is wrapped up in the call to <code>(euler41)</code>.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2015-03-21T21:35:08-07:00" pubdate data-updated="true">Mar 21<sup>st</sup>, 2015</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/lisp/'>lisp</a>, <a class='category' href='/blog/categories/projecteuler/'>projecteuler</a>


</div>
	
</div>
</article>

<nav id="pagenavi">
    
        
            <a href="/posts//blog/page/3/" class="prev">Prev</a>
        
    
    
        <a href="/posts//blog/page/5/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav>
</div>
	<footer id="footer" class="inner">Copyright &copy; 2016

    Agam

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'agamamp';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//go.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-16612682-4']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>
